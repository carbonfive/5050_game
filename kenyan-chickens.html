<!DOCTYPE html>
<html>
<head>
	<style>
		#game{ border: 1px solid black; display: block; margin: auto;}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script>
		var chickenImg;
		var canvas;
		var context;
		var chickens = [];
		var animateId;
		
		var chicken = function() {
			var x = 640*Math.random();
			var y = 480*Math.random();
			var dragging = false;
			
			return {
				draw: function () {
					context.drawImage(chickenImg, x, y);
				},
				move: function () {
					if (!dragging) {
						x += 2*Math.random() - 1;
						y += 2*Math.random() - 1;
					}
				},
				startDrag: function() {
					dragging = true;
					canvas.onmousemove = function(e) {
						x = e.x - canvas.offsetLeft;
						y = e.y - canvas.offsetTop;
					}
				},
				endDrag: function() {
					canvas.onmousemove = null;
					dragging = false;
				}
			}
		};
		
		window.onload = function() {
			chickenImg = document.getElementById('chicken');
			canvas = document.getElementById("game");  
			if (canvas.getContext) {  
	        	context = canvas.getContext("2d");
				chickens.push(chicken());
				
				animateId = setInterval(function() {
					context.clearRect(0,0,640,480);
					chickens[0].draw();
					chickens[0].move();
				}, 25);
				
				canvas.onmousedown = function() {
					chickens[0].startDrag();
				}
				
				canvas.onmouseup = function () {
					chickens[0].endDrag();
				}
			}
		};
		
		function stop() {
			clearInterval(animateId);
		}
		
		setTimeout(stop, 10000);
	</script>
</head>
<body>
	<img style="display: none;" id="chicken" src="chicken.png">
	<canvas id="game" width="640" height="480">
		This game requires a browser that supports the HTML5 canvas element.
	</canvas>
	
</body>
</html>